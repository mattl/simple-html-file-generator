<!DOCTYPE html>
<html lang="en">
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>Let's make a simple webpage!</title>
  <style>
     body{font-size: 16pt; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  margin: 1.5em; line-height: 1.8em;}
a{font-weight: bold;}
a:hover{color: red; background-color: yellow;}

@media (prefers-color-scheme: dark) {
  body {
background: #111;
color: whitesmoke;
}

a {color: lime;}

}
  textarea {font-family: monospace}
    label {display: block;}
  </style>
  </head>

<body>
<header>
  <noscript>
    <h1>Sorry JavaScript is required for this page</h1>
  </noscript>
  <h1>Let's make a simple webpage!</h1>

  <p>This will take the things you type in the three fields below and build you an HTML file. <mark>Nothing you enter is sent to any server</mark>.</p>

  <p>(You can leave any field blank if you like. Placeholders will be added)</p>

  <details>
    <summary>Show/hide Preview</summary>
  <iframe id="preview" style="width: 100%; min-height: 20em;">
  </iframe>
  </details>



</header>
  <main>

  <form>

    <input id="downloadButton" type="button" value="Download this HTML page">


    <p><label>Page title
    <input type="text" id="title" placeholder="My fantastic website" size='50' maxlength="100" onblur="preview()"></label></p>

    <p><label>CSS styling
      <textarea id="css" cols="40" rows="5" placeholder="body {color: red;}" onfocusout="preview()"></textarea></label></p>

      <p><label>Page content
      <textarea id="content" cols="40" rows="5" placeholder="<h2>Hello world</h2>

<p>My favorite food is pizza</p>" onfocusout="preview()"></textarea></label></p>




  </form>

     <h2>Next steps</h2>
  <ul>
    <li>Fill in this form as much or as little as you like</li>
    <li>Press the download button</li>
    <li>Edit the resulting file with Notepad (Windows) or <a href="https://support.apple.com/guide/textedit/work-with-html-documents-txted0b6cd61/mac" target="_blank">TextEdit</a> (Mac) or any <a target="_blank" href="https://en.wikipedia.org/wiki/List_of_text_editors">other text editor</a>.</li>
    <li>View the page in your web browser (usually by double clicking on the HTML file)</li>
    <li>Upload it somewhere for the whole world to see, such as <a target="_blank" href="https://neocities.org">Neocities</a></li>
    <li>When you're ready, buy a personal domain name from somewhere like <a target="_blank" href="http://porkbun.com">Porkbun</a> or <a target="_blank" href="https://dumbdomain.store">Dumb Domain Store</a></li>
  </ul>

<script>

function doThings(title, css, content) {




   var fileContent = "<!DOCTYPE html>\r\n<html lang='en'>\r\n<head>\r\n<title>" + title + "</title>\r\n<style>\r\n/* add your own CSS styles here */" + css + "</style>\r\n<meta name='viewport' content='width=device-width, initial-scale=1'>\r\n<meta name='generator' content='https://mattl.github.io/simple-html-file-generator/'>\r\n<meta charset='utf-8'>\r\n</head>\r\n<body>\r\n<header>\r\n<h1>" + title + "</h1>\r\n</header>\r\n<main>\r\n" + content + "</main>\r\n<footer>\r\n&copy; 2025 " + title + ". Some rights reserved.\r\n</footer>\r\n</body>\r\n</html>";

   return fileContent;
}

function getTitle() {

  var title = document.getElementById('title').value;
  if (!title) { title = "My fantastic website";}

  return title;

}

function getCSS() {
  var css = document.getElementById('css').value;
  if (!css) { css = "\r\nheader{min-height: 3em; background-color: orange; color: black; text-align: center; padding: 1em;}footer{min-height: 3em; text-align: center; background-color: black; color: white; padding: 1em;}html,body{margin: 0; padding: 0;}body{background-color: whitesmoke; color: #111; font-family: sans-serif;} main{overflow: auto; padding: 1em;}figure{float: right; max-width: 350px; border: 1px solid #ccc; padding: 1em; text-align: center;}"}

  return css;


}

function preview() {
  title = getTitle();
  css = getCSS();
  content = getContent();

   // File content and filename

   var fileContent = doThings(title, css, content);

// document.getElementById('preview').contentWindow.document.write("hello");
document.getElementById('preview').contentWindow.document.close();
document.getElementById('preview').contentWindow.document.write(fileContent);

}

function getContent(){

  var content = document.getElementById('content').value;


   if (!content) { content = "<h2>Welcome to my website.</h2>\r\n<p>My favorite food is pizza</p>\r\n<h3>Some websites I like</h3>\r\n<ul>\r\n<li><a href='https://mat.tl'>Matt Lee</a></li>\r\n<li><a href='https://indieweb.org/'>IndieWeb wiki</a></li>\r\n</ul>\r\n<figure>\r\n<img src='https://upload.wikimedia.org/wikipedia/commons/5/53/Sheba1.JPG' alt='British Shorthair cat' width='300'>\r\n<figcaption>British shorthair cat</figcaption>\r\n</figure><p>My favorite food is pizza</p>\r\n<p>My favorite food is pizza</p>\r\n<p>My favorite food is pizza</p>\r\n<p>My favorite food is pizza</p>\r\n<p>My favorite food is pizza</p>\r\n"}

   return content;

}

// based on https://stackoverflow.com/a/79383186

 document.getElementById('downloadButton').addEventListener('click', () => {


    title = getTitle();
    css = getCSS();
    content = getContent();

     // File content and filename

     var fileContent = doThings(title, css, content);

     const fileName = title + ".html";

     // Create a Blob object with the file content
     const blob = new Blob([fileContent], { type: 'text/html' });

     // Create a temporary link element
     const link = document.createElement('a');
     link.href = URL.createObjectURL(blob);
     link.download = fileName;

     // Programmatically click the link to trigger the download
     link.click();

     // Clean up the URL object
     URL.revokeObjectURL(link.href);
 });

</script>



  </main>
  <footer>
  <p>Single page creator by <a target="_blank" href='https://mat.tl/'>Matt Lee</a>, licensed under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> with contributions from StackOverflow.</p>

  <p><a target="_blank" href="https://github.com/mattl/simple-html-file-generator">Get the latest version from GitHub</a>. Please report any bugs in the <a href="https://github.com/mattl/simple-html-file-generator">issue tracker on GitHub</a> (or email me, <a href="mailto:mattl@hey.com">mattl@hey.com</a>).</p>
  </footer>

</body>

</html>
